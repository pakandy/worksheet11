<!DOCTYPE html>
<!-- Program: example2.html -->
<!-- Author: Andy Pak, Sheridan College -->
<!-- Date: Nov, 2020 -->
<!-- Program to valid Form Inputs -->
<html lang='en'>
<head>
	<title>Example 2</title>
	<meta charset='utf-8'>
	<meta name='viewport' content='width=device-width, initial-scale=1, shrink-to-fit=no'>
	<style>
		form { border: 1px solid black; padding: 1em; }
		input[type=text] { background-color: lightgray; }
		input[type=number] { background-color: lightblue; }
		input[type=text]:valid, input[type=email]:valid, input[type=number] { background-color:rgb(215, 236, 171); }
		input:out-of-range { background-color: rgb(235, 84, 84); }
		.red { color: red; }	
		.blue { color: blue; }	
	</style>
</head>
<body>
	<h2>Example 2</h2>
	<form onsubmit='return checkAll();'>
	<p><label for='id1'>Enter a number (100-300)&nbsp;&nbsp;&nbsp;</label>
	<input id='id1' type='number' min='100' max='300' required autofocus >&nbsp;&nbsp;
	Required (number between 100 and 300 inclusive)</p>
	<p><label for='id2'>Enter text&nbsp;&nbsp;&nbsp;</label>
	<input id='id2' type='text' minlength='3' maxlength='5' required>&nbsp;&nbsp;Required (minlengh 3, maxlength 5)</p>
	<p><label for='id3'>Enter text&nbsp;&nbsp;&nbsp;</label>
	<input id='id3' type='text' pattern='[0-9]{3}' placeholder='###' required>&nbsp;&nbsp;Required [0-9]{3}</p>
	<p><label for='id4'>Enter email&nbsp;&nbsp;&nbsp;</label>
	<input id='id4' type='email' placeholder='abc@xxx.ca' required>&nbsp;&nbsp;Required (Email)</p>
		
	<p><button onclick='checkAll()'>Submit</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	<button type='reset'>Reset</button></p>
	</form><br><br>

	<span class='red'><b>validationMessage:</b></span>
	<p id='out' style='border: solid 1px black; padding: 5px 0 10px 10px; '></p>

	<script>
	function checkAll() {
		var good=0;
		console.clear();
		document.getElementById('out').innerHTML='';

		/* loop through all four inputs */
		for (var x=1; x<5; x++) {
			/* return reference of the input element */
			var inpObj = document.getElementById('id'+x);

			/* if found invalid */
			if (!inpObj.checkValidity()) {
				/* display the element/object to console */
				console.dir(inpObj);
				
				/* set customer validation message (optional) */
//				inpObj.setCustomValidity('hello!');
				
				/* display validation message to screen */
				document.getElementById('out').innerHTML+='<span class="red">Input '+x+' - '+inpObj.validationMessage+'</span><br>';

				console.log('Input '+x+' - validationMessage: \n'+inpObj.validationMessage);
				console.dir(inpObj.validity);
				console.dir('---------------------------');
			} else {
				good+=1;
				document.getElementById('out').innerHTML+= '<span class="blue">Input '+x+' - Input OK</span><br>';
				console.log('Input '+x+' - validationMessage: \n'+inpObj.validationMessage);
				console.dir(inpObj.validity);
				console.dir('---------------------------');
			}
			if (good===4) {
				document.getElementById('out').innerHTML= 'Inputs all good!!!';
				console.clear();
			}
		}
		return false;
	}

	</script>

	</body>
</html>

